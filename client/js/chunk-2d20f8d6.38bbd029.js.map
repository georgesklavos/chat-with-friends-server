{"version":3,"sources":["webpack:///./src/views/profile.vue?b5f8","webpack:///src/views/profile.vue","webpack:///./src/views/profile.vue?1faa","webpack:///./src/views/profile.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","load","_v","staticStyle","ref","model","value","callback","$$v","valid","expression","user","avatar","rules","required","$set","email","scopedSlots","_u","key","fn","on","_g","menu","Date","toISOString","substr","save","$event","changeProfile","pickAFile","onFilePicked","staticRenderFns","name","data","show1","objectToSend","lastname","dateOfBirth","min","watch","val","setTimeout","computed","methods","$refs","fileInput","click","component","VAvatar","VBtn","VCard","VCol","VContent","VDatePicker","VForm","VIcon","VMenu","VOverlay","VProgressCircular","VRow","VTextField"],"mappings":"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","file":"js/chunk-2d20f8d6.38bbd029.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',{staticClass:\"profile\"},[_c('v-overlay',{attrs:{\"value\":_vm.load}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"100\",\"color\":\"light-blue\"}})],1),_c('v-btn',{attrs:{\"absolute\":\"\",\"dark\":\"\",\"top\":\"\",\"left\":\"\",\"outlined\":\"\",\"href\":\"/chat\"}},[_c('v-icon',{attrs:{\"color\":\"blue\",\"size\":\"50\"}},[_vm._v(\"keyboard_backspace\")])],1),_c('v-row',{staticStyle:{\"margin-top\":\"10vh\"},attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"sm\":\"8\",\"md\":\"4\"}},[_c('v-card',{staticClass:\"mx-auto my-12\",attrs:{\"max-width\":\"400\"}},[_c('v-form',{ref:\"form\",staticClass:\"pa-md-7 mx-lg-auto\",attrs:{\"align\":\"center\",\"lazy-validation\":\"\"},model:{value:(_vm.valid),callback:function ($$v) {_vm.valid=$$v},expression:\"valid\"}},[_c('v-avatar',{attrs:{\"size\":\"120\"}},[_c('img',{attrs:{\"src\":_vm.user.avatar,\"alt\":\"John\"}})]),_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required],\"label\":\"Name\"},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}}),_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required],\"label\":\"Last Name\"},model:{value:(_vm.user.lastname),callback:function ($$v) {_vm.$set(_vm.user, \"lastname\", $$v)},expression:\"user.lastname\"}}),_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required, _vm.rules.email],\"label\":\"Email\",\"disabled\":\"\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}}),_c('v-menu',{ref:\"menu\",attrs:{\"close-on-content-click\":false,\"max-width\":\"290\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-text-field',_vm._g({attrs:{\"rules\":[_vm.rules.required],\"label\":\"Birthday date\",\"readonly\":\"\"},model:{value:(_vm.user.dateOfBirth),callback:function ($$v) {_vm.$set(_vm.user, \"dateOfBirth\", $$v)},expression:\"user.dateOfBirth\"}},on))]}}]),model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},[_c('v-date-picker',{ref:\"picker\",attrs:{\"max\":new Date().toISOString().substr(0, 10),\"min\":\"1950-01-01\"},on:{\"change\":_vm.save},model:{value:(_vm.user.dateOfBirth),callback:function ($$v) {_vm.$set(_vm.user, \"dateOfBirth\", $$v)},expression:\"user.dateOfBirth\"}})],1),_c('v-text-field',{attrs:{\"rules\":[_vm.rules.required],\"label\":\"Gender\",\"disabled\":\"\"},model:{value:(_vm.user.gender),callback:function ($$v) {_vm.$set(_vm.user, \"gender\", $$v)},expression:\"user.gender\"}}),_c('v-btn',{staticClass:\"mr-10\",attrs:{\"color\":\"blue\"},on:{\"click\":function($event){return _vm.changeProfile()}}},[_vm._v(\"Save\")]),_c('v-btn',{staticClass:\"mr-10\",staticStyle:{\"margin-left\":\"40px\"},attrs:{\"color\":\"blue\"},on:{\"click\":function($event){return _vm.pickAFile()}}},[_vm._v(\"Change image\")]),_c('input',{ref:\"fileInput\",attrs:{\"type\":\"file\",\"hidden\":\"\",\"accept\":\"image/jpg, image/jpeg, image/png\"},on:{\"change\":_vm.onFilePicked}})],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <v-content class=\"profile\">\r\n    <v-overlay :value=\"load\">\r\n      <v-progress-circular indeterminate size=\"100\" color=\"light-blue\"></v-progress-circular>\r\n    </v-overlay>\r\n    <v-btn absolute dark top left outlined href=\"/chat\">\r\n      <v-icon color=\"blue\" size=\"50\">keyboard_backspace</v-icon>\r\n    </v-btn>\r\n    <v-row align=\"center\" justify=\"center\" style=\"margin-top:10vh\">\r\n      <v-col cols=\"12\" sm=\"8\" md=\"4\">\r\n        <v-card class=\"mx-auto my-12\" max-width=\"400\">\r\n          <v-form\r\n            align=\"center\"\r\n            ref=\"form\"\r\n            v-model=\"valid\"\r\n            lazy-validation\r\n            class=\"pa-md-7 mx-lg-auto\"\r\n          >\r\n            <v-avatar size=\"120\">\r\n              <img :src=\"user.avatar\" alt=\"John\" />\r\n            </v-avatar>\r\n\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"user.name\" label=\"Name\"></v-text-field>\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"user.lastname\" label=\"Last Name\"></v-text-field>\r\n            <v-text-field\r\n              :rules=\"[rules.required, rules.email]\"\r\n              v-model=\"user.email\"\r\n              label=\"Email\"\r\n              disabled\r\n            ></v-text-field>\r\n\r\n            <v-menu v-model=\"menu\" :close-on-content-click=\"false\" ref=\"menu\" max-width=\"290\">\r\n              <template v-slot:activator=\"{ on }\">\r\n                <v-text-field\r\n                  :rules=\"[rules.required]\"\r\n                  v-model=\"user.dateOfBirth\"\r\n                  label=\"Birthday date\"\r\n                  readonly\r\n                  v-on=\"on\"\r\n                ></v-text-field>\r\n              </template>\r\n              <v-date-picker\r\n                ref=\"picker\"\r\n                v-model=\"user.dateOfBirth\"\r\n                :max=\"new Date().toISOString().substr(0, 10)\"\r\n                min=\"1950-01-01\"\r\n                @change=\"save\"\r\n              ></v-date-picker>\r\n            </v-menu>\r\n\r\n            <v-text-field :rules=\"[rules.required]\" v-model=\"user.gender\" label=\"Gender\" disabled></v-text-field>\r\n\r\n            <v-btn color=\"blue\" @click=\"changeProfile()\" class=\"mr-10\">Save</v-btn>\r\n            <v-btn\r\n              color=\"blue\"\r\n              style=\"margin-left:40px\"\r\n              @click=\"pickAFile()\"\r\n              class=\"mr-10\"\r\n            >Change image</v-btn>\r\n\r\n            <input\r\n              type=\"file\"\r\n              hidden\r\n              ref=\"fileInput\"\r\n              accept=\"image/jpg, image/jpeg, image/png\"\r\n              @change=\"onFilePicked\"\r\n            />\r\n          </v-form>\r\n        </v-card>\r\n      </v-col>\r\n    </v-row>\r\n  </v-content>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters, mapActions } from \"vuex\";\r\n\r\nexport default {\r\n  name: \"Profile\",\r\n  data() {\r\n    return {\r\n      show1: false,\r\n      menu: false,\r\n      valid: false,\r\n      avatar: null,\r\n      load: false,\r\n\r\n      objectToSend: {\r\n        name: \"\",\r\n        lastname: \"\",\r\n        dateOfBirth: \"\"\r\n      },\r\n      rules: {\r\n        required: value => !!value || \"Required.\",\r\n        min: v => v.length >= 8 || \"Min 8 characters\",\r\n        email: v => /.+@.+/.test(v) || \"E-mail must be valid\"\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    menu(val) {\r\n      val && setTimeout(() => (this.$refs.picker.activePicker = \"YEAR\"));\r\n    }\r\n  },\r\n\r\n  async created() {\r\n    this.$store.dispatch(\"profile\");\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"user\"])\r\n  },\r\n  methods: {\r\n    ...mapActions([\"uploadImage\", \"profile\"]),\r\n    changeProfile: async function() {\r\n      this.load = true;\r\n      Object.keys(this.objectToSend).forEach(el => {\r\n        this.objectToSend[el] = this.user[el];\r\n      });\r\n      await this.$store\r\n        .dispatch(\"updateProfile\", this.objectToSend)\r\n        .then(() => {\r\n          this.load = false;\r\n        });\r\n    },\r\n    async save(date) {\r\n      this.$refs.menu.save(date);\r\n    },\r\n    pickAFile: function() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    onFilePicked: async function(event) {\r\n      this.load = true;\r\n      await this.$store\r\n        .dispatch(\"uploadImage\", event.target.files[0])\r\n        .then(async () => {\r\n          await this.$store.dispatch(\"profile\").then(() => {\r\n            this.load = false;\r\n          });\r\n        });\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vuetify-loader/lib/loader.js??ref--18-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./profile.vue?vue&type=template&id=41b09993&\"\nimport script from \"./profile.vue?vue&type=script&lang=js&\"\nexport * from \"./profile.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContent } from 'vuetify/lib/components/VContent';\nimport { VDatePicker } from 'vuetify/lib/components/VDatePicker';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAvatar,VBtn,VCard,VCol,VContent,VDatePicker,VForm,VIcon,VMenu,VOverlay,VProgressCircular,VRow,VTextField})\n"],"sourceRoot":""}