(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d20f8d6"],{b3b1:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",{staticClass:"profile"},[r("v-overlay",{attrs:{value:e.load}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"100",color:"light-blue"}})],1),r("v-btn",{attrs:{absolute:"",dark:"",top:"",left:"",outlined:"",href:"/chat"}},[r("v-icon",{attrs:{color:"blue",size:"50"}},[e._v("keyboard_backspace")])],1),r("v-row",{staticStyle:{"margin-top":"10vh"},attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[r("v-card",{staticClass:"mx-auto my-12",attrs:{"max-width":"400"}},[r("v-form",{ref:"form",staticClass:"pa-md-7 mx-lg-auto",attrs:{align:"center","lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[r("v-avatar",{attrs:{size:"120"}},[r("img",{attrs:{src:e.user.avatar,alt:"John"}})]),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Name"},model:{value:e.user.name,callback:function(t){e.$set(e.user,"name",t)},expression:"user.name"}}),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Last Name"},model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname",t)},expression:"user.lastname"}}),r("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],label:"Email",disabled:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}}),r("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"max-width":"290"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-text-field",e._g({attrs:{rules:[e.rules.required],label:"Birthday date",readonly:""},model:{value:e.user.dateOfBirth,callback:function(t){e.$set(e.user,"dateOfBirth",t)},expression:"user.dateOfBirth"}},a))]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[r("v-date-picker",{ref:"picker",attrs:{max:(new Date).toISOString().substr(0,10),min:"1950-01-01"},on:{change:e.save},model:{value:e.user.dateOfBirth,callback:function(t){e.$set(e.user,"dateOfBirth",t)},expression:"user.dateOfBirth"}})],1),r("v-text-field",{attrs:{rules:[e.rules.required],label:"Gender",disabled:""},model:{value:e.user.gender,callback:function(t){e.$set(e.user,"gender",t)},expression:"user.gender"}}),r("v-btn",{staticClass:"mr-10",attrs:{color:"blue"},on:{click:function(t){return e.changeProfile()}}},[e._v("Save")]),r("v-btn",{staticClass:"mr-10",staticStyle:{"margin-left":"40px"},attrs:{color:"blue"},on:{click:function(t){return e.pickAFile()}}},[e._v("Change image")]),r("input",{ref:"fileInput",attrs:{type:"file",hidden:"",accept:"image/jpg, image/jpeg, image/png"},on:{change:e.onFilePicked}})],1)],1)],1)],1)],1)},n=[],i=(r("4160"),r("b64b"),r("159b"),r("5530")),s=(r("96cf"),r("1da1")),u=r("2f62"),c={name:"Profile",data:function(){return{show1:!1,menu:!1,valid:!1,avatar:null,load:!1,objectToSend:{name:"",lastname:"",dateOfBirth:""},rules:{required:function(e){return!!e||"Required."},min:function(e){return e.length>=8||"Min 8 characters"},email:function(e){return/.+@.+/.test(e)||"E-mail must be valid"}}}},watch:{menu:function(e){var t=this;e&&setTimeout((function(){return t.$refs.picker.activePicker="YEAR"}))}},created:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("profile");case 1:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])({},Object(u["c"])(["user"])),methods:Object(i["a"])({},Object(u["b"])(["uploadImage","profile"]),{changeProfile:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.load=!0,Object.keys(this.objectToSend).forEach((function(e){t.objectToSend[e]=t.user[e]})),e.next=4,this.$store.dispatch("updateProfile",this.objectToSend).then((function(){t.load=!1}));case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),save:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.$refs.menu.save(e);case 1:case"end":return r.stop()}}),r)})))()},pickAFile:function(){this.$refs.fileInput.click()},onFilePicked:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.load=!0,e.next=3,this.$store.dispatch("uploadImage",t.target.files[0]).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.$store.dispatch("profile").then((function(){r.load=!1}));case 2:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})},l=c,o=r("2877"),d=r("6544"),f=r.n(d),m=r("8212"),p=r("8336"),v=r("b0af"),h=r("62ad"),b=r("a75b"),g=r("2e4b"),k=r("4bd4"),x=r("132d"),w=r("e449"),O=r("a797"),j=r("490a"),y=r("0fd9"),$=r("8654"),R=Object(o["a"])(l,a,n,!1,null,null,null);t["default"]=R.exports;f()(R,{VAvatar:m["a"],VBtn:p["a"],VCard:v["a"],VCol:h["a"],VContent:b["a"],VDatePicker:g["a"],VForm:k["a"],VIcon:x["a"],VMenu:w["a"],VOverlay:O["a"],VProgressCircular:j["a"],VRow:y["a"],VTextField:$["a"]})}}]);
//# sourceMappingURL=chunk-2d20f8d6.a4f60bc1.js.map